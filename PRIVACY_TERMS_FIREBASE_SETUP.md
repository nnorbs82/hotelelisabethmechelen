# Privacy Policy & Terms & Conditions Firebase Setup

This document contains instructions for setting up Firebase to support the Privacy Policy and Terms & Conditions management feature.

## Firebase Realtime Database Rules

You need to add rules for the new `privacyPolicy` and `termsAndConditions` nodes in your Firebase Realtime Database.

### How to Update Firebase Rules:

1. Go to the [Firebase Console](https://console.firebase.google.com/)
2. Select your project: `hotelelisabethmechelen-9dd98`
3. Click on **Realtime Database** in the left sidebar
4. Click on the **Rules** tab
5. Add the following rules to the existing rules configuration
6. Click **Publish**

### Rules to Add:

Add these two sections to your existing database rules:

```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
    
    // ... your existing rules ...
    
    "privacyPolicy": {
      ".read": true,
      ".write": "auth != null"
    },
    "termsAndConditions": {
      ".read": true,
      ".write": "auth != null"
    }
  }
}
```

### Complete Example Rules:

Here's how your complete rules should look with the new additions (including existing rules):

```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
    "mainBanner": {
      ".read": true,
      ".write": "auth != null"
    },
    "indexAds": {
      ".read": true,
      ".write": "auth != null"
    },
    "indexBackground": {
      ".read": true,
      ".write": "auth != null"
    },
    "aboutUs": {
      ".read": true,
      ".write": "auth != null"
    },
    "adsBottom": {
      ".read": true,
      ".write": "auth != null"
    },
    "packages": {
      ".read": true,
      ".write": "auth != null"
    },
    "facilities": {
      ".read": true,
      ".write": "auth != null"
    },
    "facilitiesHero": {
      ".read": true,
      ".write": "auth != null"
    },
    "facilitiesLibrary": {
      ".read": true,
      ".write": "auth != null"
    },
    "attractions": {
      ".read": true,
      ".write": "auth != null"
    },
    "attractionsMainImage": {
      ".read": true,
      ".write": "auth != null"
    },
    "hotelInfo": {
      ".read": true,
      ".write": "auth != null"
    },
    "rooms": {
      ".read": true,
      ".write": "auth != null"
    },
    "privacyPolicy": {
      ".read": true,
      ".write": "auth != null"
    },
    "termsAndConditions": {
      ".read": true,
      ".write": "auth != null"
    }
  }
}
```

## Data Structure

The data will be stored in Firebase Realtime Database with the following structure:

### Privacy Policy:
```
/privacyPolicy
  ├── en: "<html content in English>"
  ├── nl: "<html content in Dutch>"
  └── fr: "<html content in French>"
```

### Terms & Conditions:
```
/termsAndConditions
  ├── en: "<html content in English>"
  ├── nl: "<html content in Dutch>"
  └── fr: "<html content in French>"
```

## Security Considerations

- **Public Read Access**: Both `privacyPolicy` and `termsAndConditions` have public read access (`.read: true`) because these documents need to be visible to all website visitors
- **Authenticated Write Access**: Only authenticated admin users can modify these documents (`.write: "auth != null"`)
- **HTML Content**: The content is stored as HTML (generated by the Quill rich text editor) and includes formatting, lists, links, etc.

## Feature Overview

### Admin Dashboard:
- Two new buttons in the sidebar menu:
  - "Manage Privacy Policy"
  - "Manage Terms & Conditions"
- Each button opens a modal with:
  - Language tabs (English, Dutch, French)
  - Rich text editor (Quill) for each language
  - Save and Cancel buttons
  - Real-time saving to Firebase

### Public Pages:
- **privacypolicy.html**: Displays the privacy policy with language selector
- **termsandconditions.html**: Displays the terms & conditions with language selector
- Both pages:
  - Load content from Firebase
  - Support 3 languages with easy switching
  - Match the website's modern design
  - Display rich formatted content (headings, lists, links, etc.)

## Verification Steps

After applying the Firebase rules:

1. Log in to the admin dashboard at `admin-dashboard.html`
2. Click on **Manage Privacy Policy** button in the sidebar
3. A modal should open with language tabs and a rich text editor
4. Enter some test content in English and click "Save Changes"
5. Visit `privacypolicy.html` in your browser
6. You should see the content you just entered
7. Test the language selector to switch between languages
8. Repeat steps 2-7 for **Manage Terms & Conditions** and `termsandconditions.html`

## Troubleshooting

If you encounter permission errors:
- Verify the rules are published correctly in Firebase Console
- Ensure you are logged in as an authenticated admin user
- Check the browser console for any Firebase errors
- Verify the Firebase Realtime Database is enabled in your project

If content doesn't display on public pages:
- Check that you've saved content in the admin dashboard
- Verify the Firebase rules allow public read access (`.read: true`)
- Check the browser console for any loading errors
- Ensure you have an active internet connection

## Usage Instructions

### For Administrators:

1. **Adding/Editing Content:**
   - Go to admin dashboard
   - Click "Manage Privacy Policy" or "Manage Terms & Conditions"
   - Select the language tab
   - Use the rich text editor to format your content:
     - Headers (H1, H2, H3)
     - Bold, italic, underline
     - Ordered and unordered lists
     - Links
   - Click "Save Changes"
   - Content is immediately available on the public pages

2. **Multi-Language Support:**
   - You must add content for all three languages
   - Each language is independent
   - Visitors can switch between languages on the public pages

### For Visitors:

1. Visit `privacypolicy.html` or `termsandconditions.html`
2. Click on the language button to switch languages
3. Content updates automatically when switching languages
